(function(g){var window=this;'use strict';var cZ=function(b){b.publish("autonavvisibility")},Eg3=function(b,R){g.rw(b,"onAutonavCoundownStarted",R)},uZ=function(b){return b.isBackground()&&b.ut()},Tkt=function(b,R){R=R.getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer?.autoplay?.playerOverlayAutoplayRenderer?.nextButton?.buttonRenderer;
b.C=R?.navigationEndpoint;R=R?.trackingParams;b.playButton&&R&&b.A.setTrackingParams(b.playButton.element,R)},C3=function(b){const R=Xq(b);
var h=Math,K=h.min;var I=b.D?Date.now()-b.D:0;h=K.call(h,I,R);Vi(b,Math.ceil((R-h)/1E3));R-h<=500&&b.G()?b.select(!0):b.G()&&b.U.start()},MQ=function(b){var R=b.A.tb(!0,b.A.isFullscreen());
g.k(b.container.element,"ytp-autonav-endscreen-small-mode",b.DP(R));g.k(b.container.element,"ytp-autonav-endscreen-is-premium",!!b.suggestion&&!!b.suggestion.Cc);g.k(b.A.getRootNode(),"ytp-autonav-endscreen-cancelled-state",!b.A.Ik());g.k(b.A.getRootNode(),"countdown-running",b.G());g.k(b.container.element,"ytp-player-content",b.A.Ik());g.MN(b.overlay.element,{width:`${R.width}px`});if(!b.G()){b.A.Ik()?Vi(b,Math.round(Xq(b)/1E3)):Vi(b);R=!!b.suggestion&&!!b.suggestion.fb;const h=b.A.Ik()||!R;g.k(b.container.element,
"ytp-autonav-endscreen-upnext-alternative-header-only",!h&&R);g.k(b.container.element,"ytp-autonav-endscreen-upnext-no-alternative-header",h&&!R);b.J.sW(b.A.Ik());g.k(b.element,"ytp-enable-w2w-color-transitions",!!b.A.getVideoData()?.watchToWatchTransitionRenderer)}},Vi=function(b,R=-1){b=b.V.yX("ytp-autonav-endscreen-upnext-header");
g.zF(b);if(R>=0){R=String(R);const h="Pr\u00f3ximo v\u00eddeo em $SECONDS".match(RegExp("\\$SECONDS","gi"))[0],K="Pr\u00f3ximo v\u00eddeo em $SECONDS".indexOf(h);if(K>=0){b.appendChild(g.Ax("Pr\u00f3ximo v\u00eddeo em $SECONDS".slice(0,K)));const I=g.jO("span");g.$d(I,"ytp-autonav-endscreen-upnext-header-countdown-number");g.W_(I,R);b.appendChild(I);b.appendChild(g.Ax("Pr\u00f3ximo v\u00eddeo em $SECONDS".slice(K+h.length)));return}}g.W_(b,"Pr\u00f3ximo")},Xq=function(b){return b.A.isFullscreen()?
(b=b.A.getVideoData()?.jH,b===-1||b===void 0?8E3:b):b.A.v_()>=0?b.A.v_():g.fg(b.A.L().experiments,"autoplay_time")||1E4},ri=function(b,R){R=JR2(b,R);
var h=Math,K=h.min;var I=(0,g.c)()-b.D;h=K.call(h,I,R);R=R===0?1:Math.min(h/R,1);b.gp.setAttribute("stroke-dashoffset",`${-211*(R+1)}`);R>=1&&b.G()&&b.api.getPresentingPlayerType()!==3?b.select(!0):b.G()&&b.V.start()},JR2=function(b,R){return R?R:b.api.isFullscreen()?(b=b.api.getVideoData()?.jH,b===-1||b===void 0?8E3:b):b.api.v_()>=0?b.api.v_():g.fg(b.api.L().experiments,"autoplay_time")||1E4},L3=function(b){const R=b.Ik();
R!==b.D&&(b.D=R,cZ(b.player),b.D?(b.Y!==b.G&&b.Y.hide(),b.table.hide()):(b.Y!==b.G&&b.Y.show(),b.table.show()))},wi=function(b){return g.fz(b.player)&&b.V()&&!b.S},Fq=function(b){const R=b.Ik();
R!==b.U&&(b.U=R,cZ(b.player))},o2=function(b){return g.fz(b.player)&&b.V()&&!b.J},D6=function(b){const R=b.Ik();
R!==b.nR&&(b.nR=R,cZ(b.player))},kYz=function(b){b=b.L();
return b.pz&&!b.vO&&!b.disableOrganicUi},YI2=function(b){const R=b.player.getVideoData();
if(!R||b.G===R.wB&&b.Y===R.RH)return!1;b.G=R.wB;b.Y=R.RH;return!0},eSz=function(b){b.player.lj("endscreen");
var R=b.player.getVideoData();R=new g.gL(Math.max((R.lengthSeconds-10)*1E3,0),0x8000000000000,{id:"preload",namespace:"endscreen"});const h=new g.gL(0x8000000000000,0x8000000000000,{id:"load",priority:8,namespace:"endscreen"});b.player.f5([R,h])};
g.Le.prototype.v_=g.hD(9,function(){return this.app.v_()});
g.xR.prototype.v_=g.hD(8,function(){return this.getVideoData().Lg});
g.rU.prototype.TM=g.hD(7,function(b){this.gk().TM(b)});
g.qe.prototype.TM=g.hD(6,function(b){this.dV!==b&&(this.dV=b,this.f8())});
var OKr=class extends g.w{constructor(b){const R=b.L(),h=R.V;super({B:"a",Z:"ytp-autonav-suggestion-card",O:{href:"{{url}}",target:h?R.U:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},W:[{B:"div",F5:["ytp-autonav-endscreen-upnext-thumbnail","ytp-autonav-thumbnail-small"],O:{style:"{{background}}"},W:[{B:"div",O:{"aria-label":"{{timestamp}}"},F5:["ytp-autonav-timestamp"],IH:"{{duration}}"},
{B:"div",F5:["ytp-autonav-live-stamp"],IH:"Ao vivo"},{B:"div",F5:["ytp-autonav-upcoming-stamp"],IH:"Em breve"},{B:"div",Z:"ytp-autonav-list-overlay",W:[{B:"div",Z:"ytp-autonav-mix-text",IH:"Mix"},{B:"div",Z:"ytp-autonav-mix-icon"}]}]},{B:"div",F5:["ytp-autonav-endscreen-upnext-title","ytp-autonav-title-card"],IH:"{{title}}"},{B:"div",F5:["ytp-autonav-endscreen-upnext-author","ytp-autonav-author-card"],IH:"{{author}}"},{B:"div",F5:["ytp-autonav-endscreen-upnext-author","ytp-autonav-view-and-date-card"],
IH:"{{views_and_publish_time}}"}]});this.A=b;this.suggestion=null;this.G=h;this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress)}select(){this.A.BZ(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.v3||void 0)&&this.A.logClick(this.element)}onClick(b){g.Ez(b,this.A,this.G,this.suggestion.sessionData||void 0)&&this.select()}onKeyPress(b){switch(b.keyCode){case 13:case 32:b.defaultPrevented||(this.select(),b.preventDefault())}}};var bk=class extends g.w{constructor(b,R=!1){super({B:"div",Z:"ytp-autonav-endscreen-countdown-overlay"});this.vY=R;this.cancelCommand=this.C=void 0;this.D=0;this.container=new g.w({B:"div",Z:"ytp-autonav-endscreen-countdown-container"});g.n(this,this.container);this.container.AX(this.element);R=b.L();const h=R.V;this.A=b;this.suggestion=null;this.onVideoDataChange("newdata",this.A.getVideoData());this.j(b,"videodatachange",this.onVideoDataChange);this.V=new g.w({B:"div",Z:"ytp-autonav-endscreen-upnext-container",
O:{"aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}","data-is-upcoming":"{{is_upcoming}}"},W:[{B:"div",Z:"ytp-autonav-endscreen-upnext-header"},{B:"div",Z:"ytp-autonav-endscreen-upnext-alternative-header",IH:"{{autoplayAlternativeHeader}}"},{B:"a",Z:"ytp-autonav-endscreen-link-container",O:{href:"{{url}}",target:h?R.U:""},W:[{B:"div",Z:"ytp-autonav-endscreen-upnext-thumbnail",O:{style:"{{background}}"},W:[{B:"div",O:{"aria-label":"{{timestamp}}"},
F5:["ytp-autonav-timestamp"],IH:"{{duration}}"},{B:"div",F5:["ytp-autonav-live-stamp"],IH:"Ao vivo"},{B:"div",F5:["ytp-autonav-upcoming-stamp"],IH:"Em breve"}]},{B:"div",Z:"ytp-autonav-endscreen-video-info",W:[{B:"div",Z:"ytp-autonav-endscreen-premium-badge"},{B:"div",Z:"ytp-autonav-endscreen-upnext-title",IH:"{{title}}"},{B:"div",Z:"ytp-autonav-endscreen-upnext-author",IH:"{{author}}"},{B:"div",Z:"ytp-autonav-view-and-date",IH:"{{views_and_publish_time}}"},{B:"div",Z:"ytp-autonav-author-and-view",
IH:"{{author_and_views}}"}]}]}]});g.n(this,this.V);this.V.AX(this.container.element);h||this.j(this.V.yX("ytp-autonav-endscreen-link-container"),"click",this.T6);this.A.createClientVe(this.container.element,this,115127);this.A.createClientVe(this.V.yX("ytp-autonav-endscreen-link-container"),this,115128);this.overlay=new g.w({B:"div",Z:"ytp-autonav-overlay"});g.n(this,this.overlay);this.overlay.AX(this.container.element);this.J=new g.w({B:"div",Z:"ytp-autonav-endscreen-button-container"});g.n(this,
this.J);this.J.AX(this.container.element);this.cancelButton=new g.w({B:"button",F5:["ytp-autonav-endscreen-upnext-button","ytp-autonav-endscreen-upnext-cancel-button","ytp-autonav-endscreen-upnext-button-rounded"],O:{"aria-label":"Cancelar reprodu\u00e7\u00e3o autom\u00e1tica"},IH:"Cancelar"});g.n(this,this.cancelButton);this.cancelButton.AX(this.J.element);this.cancelButton.listen("click",this.gp,this);this.A.createClientVe(this.cancelButton.element,this,115129);this.playButton=new g.w({B:"a",F5:["ytp-autonav-endscreen-upnext-button",
"ytp-autonav-endscreen-upnext-play-button","ytp-autonav-endscreen-upnext-button-rounded"],O:{href:"{{url}}",role:"button","aria-label":"Reproduzir pr\u00f3ximo v\u00eddeo"},IH:"Assista agora"});g.n(this,this.playButton);this.playButton.AX(this.J.element);this.playButton.listen("click",this.T6,this);this.A.createServerVe(this.playButton.element,this.playButton,!0);(R=this.A.getVideoData())&&Tkt(this,R);this.U=new g.bI(()=>{C3(this)},500);
g.n(this,this.U);this.nR();this.j(b,"autonavvisibility",this.nR);this.A.N("web_autonav_color_transition")&&(this.j(b,"autonavchange",this.MJ),this.j(b,"onAutonavCoundownStarted",this.SY))}K(b){this.suggestion!==b&&(this.suggestion=b,g.IB(this.V,b),this.playButton.updateValue("url",this.suggestion.Ba()),MQ(this))}G(){return this.D>0}S(){this.G()||(this.D=Date.now(),C3(this),Eg3(this.A,Xq(this)),g.k(this.A.getRootNode(),"countdown-running",this.G()))}X(){this.Y();C3(this);const b=this.V.yX("ytp-autonav-endscreen-upnext-header");
b&&g.W_(b,"Pr\u00f3ximo")}Y(){this.G()&&(this.U.stop(),this.D=0)}select(b=!1){this.A.nextVideo(!1,b);this.Y()}T6(b){g.Ez(b,this.A)&&(b.currentTarget===this.playButton.element?this.A.logClick(this.playButton.element):b.currentTarget===this.V.yX("ytp-autonav-endscreen-link-container")&&(b=this.V.yX("ytp-autonav-endscreen-link-container"),this.A.logVisibility(b,!0),this.A.logClick(b)),this.C?(g.rw(this.A,"innertubeCommand",this.C),this.Y()):this.select())}gp(){this.A.logClick(this.cancelButton.element);
g.lb(this.A,!0);this.cancelCommand&&g.rw(this.A,"innertubeCommand",this.cancelCommand)}onVideoDataChange(b,R){Tkt(this,R);this.cancelCommand=R.getWatchNextResponse()?.playerOverlays?.playerOverlayRenderer?.autoplay?.playerOverlayAutoplayRenderer?.cancelButton?.buttonRenderer?.command}SY(b){if(this.A.getVideoData()?.watchToWatchTransitionRenderer){var R=this.A.getVideoData().watchToWatchTransitionRenderer;const h=R?.fromColorPaletteDark,K=R?.toColorPaletteDark;h&&K&&(R=this.element,R.style.setProperty("--w2w-start-background-color",
g.wm(h.surgeColor)),R.style.setProperty("--w2w-start-primary-text-color",g.wm(h.primaryTitleColor)),R.style.setProperty("--w2w-start-secondary-text-color",g.wm(h.secondaryTitleColor)),R.style.setProperty("--w2w-end-background-color",g.wm(K.surgeColor)),R.style.setProperty("--w2w-end-primary-text-color",g.wm(K.primaryTitleColor)),R.style.setProperty("--w2w-end-secondary-text-color",g.wm(K.secondaryTitleColor)),R.style.setProperty("--w2w-animation-duration",`${b}ms`));g.k(this.element,"ytp-w2w-animate",
!0)}}MJ(b){this.A.N("web_autonav_color_transition")&&b!==2&&g.k(this.element,"ytp-w2w-animate",!1)}nR(){const b=this.A.Ik();this.vY&&this.XM!==b&&this.sW(b);MQ(this);this.A.logVisibility(this.container.element,b);this.A.logVisibility(this.cancelButton.element,b);this.A.logVisibility(this.V.yX("ytp-autonav-endscreen-link-container"),b);this.A.logVisibility(this.playButton.element,b)}DP(b){return b.width<400||b.height<459}};var Ru=class extends g.w{constructor(b,R){super({B:"div",F5:["html5-endscreen","ytp-player-content",R||"base-endscreen"]});this.created=!1;this.player=b}create(){this.created=!0}destroy(){this.created=!1}V(){return!1}Ik(){return!1}C(){return!1}};var h4=class extends g.w{constructor(b){super({B:"div",F5:["ytp-upnext","ytp-player-content"],O:{"aria-label":"{{aria_label}}"},W:[{B:"div",Z:"ytp-cued-thumbnail-overlay-image",O:{style:"{{background}}"}},{B:"span",Z:"ytp-upnext-top",W:[{B:"span",Z:"ytp-upnext-header",IH:"Pr\u00f3ximo"},{B:"span",Z:"ytp-upnext-title",IH:"{{title}}"},{B:"span",Z:"ytp-upnext-author",IH:"{{author}}"}]},{B:"a",Z:"ytp-upnext-autoplay-icon",O:{role:"button",href:"{{url}}","aria-label":"Reproduzir pr\u00f3ximo v\u00eddeo"},
W:[{B:"svg",O:{height:"100%",version:"1.1",viewBox:"0 0 72 72",width:"100%"},W:[{B:"circle",Z:"ytp-svg-autoplay-circle",O:{cx:"36",cy:"36",fill:"#fff","fill-opacity":"0.3",r:"31.5"}},{B:"circle",Z:"ytp-svg-autoplay-ring",O:{cx:"-36",cy:"36","fill-opacity":"0",r:"33.5",stroke:"#FFFFFF","stroke-dasharray":"211","stroke-dashoffset":"-211","stroke-width":"4",transform:"rotate(-90)"}},{B:"path",Z:"ytp-svg-fill",O:{d:"M 24,48 41,36 24,24 V 48 z M 44,24 v 24 h 4 V 24 h -4 z"}}]}]},{B:"span",Z:"ytp-upnext-bottom",
W:[{B:"span",Z:"ytp-upnext-cancel"},{B:"span",Z:"ytp-upnext-paused",IH:"Reprodu\u00e7\u00e3o autom\u00e1tica pausada"}]}]});this.api=b;this.cancelButton=null;this.gp=this.yX("ytp-svg-autoplay-ring");this.U=this.notification=this.V=this.suggestion=null;this.C=new g.bI(this.J,5E3,this);this.D=0;var R=this.yX("ytp-upnext-cancel");this.cancelButton=new g.w({B:"button",F5:["ytp-upnext-cancel-button","ytp-button"],O:{tabindex:"0","aria-label":"Cancelar reprodu\u00e7\u00e3o autom\u00e1tica"},IH:"Cancelar"});
g.n(this,this.cancelButton);this.cancelButton.listen("click",this.T6,this);this.cancelButton.AX(R);this.cancelButton&&this.api.createClientVe(this.cancelButton.element,this,115129);g.n(this,this.C);this.api.createClientVe(this.element,this,18788);R=this.yX("ytp-upnext-autoplay-icon");this.j(R,"click",this.MJ);this.api.createClientVe(R,this,115130);this.nR();this.j(b,"autonavvisibility",this.nR);this.j(b,"mdxnowautoplaying",this.SY);this.j(b,"mdxautoplaycanceled",this.vY);g.k(this.element,"ytp-upnext-mobile",
this.api.L().Y)}J(){this.notification&&(this.C.stop(),this.Ac(this.U),this.U=null,this.notification.close(),this.notification=null)}K(b){this.suggestion=b;g.IB(this,b,"hqdefault.jpg")}nR(){this.sW(this.api.Ik());this.api.logVisibility(this.element,this.api.Ik());this.api.logVisibility(this.yX("ytp-upnext-autoplay-icon"),this.api.Ik());this.cancelButton&&this.api.logVisibility(this.cancelButton.element,this.api.Ik())}JX(){window.focus();this.J()}S(b){this.G()||(g.pQ("a11y-announce",`${"Pr\u00f3ximo"} ${this.suggestion.title}`),
this.D=(0,g.c)(),this.V=new g.bI(()=>{ri(this,b)},25),ri(this,b),Eg3(this.api,JR2(this,b)));
g.lI(this.element,"ytp-upnext-autoplay-paused")}hide(){super.hide()}G(){return!!this.V}X(){this.Y();this.D=(0,g.c)();ri(this);g.Nv(this.element,"ytp-upnext-autoplay-paused")}Y(){this.G()&&(this.V.dispose(),this.V=null)}select(b=!1){if(this.api.L().N("autonav_notifications")&&b&&window.Notification&&typeof document.hasFocus==="function"){const R=Notification.permission;R==="default"?Notification.requestPermission():R!=="granted"||document.hasFocus()||(this.J(),this.notification=new Notification("Pr\u00f3ximo",
{body:this.suggestion.title,icon:this.suggestion.hU()}),this.U=this.j(this.notification,"click",this.JX),this.C.start())}this.Y();this.api.nextVideo(!1,b)}MJ(b){!g.gM(this.cancelButton.element,b.target)&&g.Ez(b,this.api)&&(this.api.Ik()&&this.api.logClick(this.yX("ytp-upnext-autoplay-icon")),this.select())}T6(){this.api.Ik()&&this.cancelButton&&this.api.logClick(this.cancelButton.element);g.lb(this.api,!0)}SY(b){this.api.getPresentingPlayerType();this.show();this.S(b)}vY(){this.api.getPresentingPlayerType();
this.Y();this.hide()}X5(){this.Y();this.J();super.X5()}};var xBH=class extends Ru{constructor(b){super(b,"autonav-endscreen");this.overlay=this.videoData=null;this.table=new g.w({B:"div",Z:"ytp-suggestion-panel",W:[{B:"div",F5:["ytp-autonav-endscreen-upnext-header","ytp-autonav-endscreen-more-videos"],IH:"Mais v\u00eddeos"}]});this.U=new g.w({B:"div",Z:"ytp-suggestions-container"});this.videos=[];this.X=null;this.D=this.K=!1;this.Y=new bk(this.player);g.n(this,this.Y);this.Y.AX(this.element);b.getVideoData().RH?this.G=this.Y:(this.G=new h4(b),g.dL(this.player,
this.G.element,4),g.n(this,this.G));this.overlay=new g.w({B:"div",Z:"ytp-autonav-overlay-cancelled-state"});g.n(this,this.overlay);this.overlay.AX(this.element);this.S=new g.Ke(this);g.n(this,this.S);g.n(this,this.table);this.table.AX(this.element);this.table.show();g.n(this,this.U);this.U.AX(this.table.element);this.hide()}create(){super.create();this.S.j(this.player,"appresize",this.J);this.S.j(this.player,"onVideoAreaChange",this.J);this.S.j(this.player,"videodatachange",this.onVideoDataChange);
this.S.j(this.player,"autonavchange",this.nR);this.S.j(this.player,"onAutonavCancelled",this.T6);this.onVideoDataChange()}show(){super.show();(this.K||this.X&&this.X!==this.videoData.clientPlaybackNonce)&&g.lb(this.player,!1);g.fz(this.player)&&this.V()&&!this.X?(L3(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||uZ(this.player.SS())&&this.player.N("web_player_pip_logging_fix")?this.G.select(!0):this.G.S():this.videoData.autonavState===3&&this.G.X()):(g.lb(this.player,
!0),L3(this));this.J()}hide(){super.hide();this.G.X();L3(this)}J(){var b=this.player.tb(!0,this.player.isFullscreen());L3(this);MQ(this.Y);g.k(this.element,"ytp-autonav-cancelled-small-mode",this.DP(b));g.k(this.element,"ytp-autonav-cancelled-tiny-mode",this.K3(b));g.k(this.element,"ytp-autonav-cancelled-mini-mode",b.width<=400||b.height<=360);this.overlay&&g.MN(this.overlay.element,{width:`${b.width}px`});if(!this.D)for(b=0;b<this.videos.length;b++)g.k(this.videos[b].element,"ytp-suggestion-card-with-margin",
b%2===1)}onVideoDataChange(){var b=this.player.getVideoData();if(this.videoData!==b&&b){this.videoData=b;b=this.videoData.suggestions;var R=this.videoData.U();R&&(this.G.K(R),this.G!==this.Y&&this.Y.K(R));if(b&&b.length)for(let K=0;K<QRn.length;++K){var h=QRn[K];b&&b[h]&&(this.videos[K]=new OKr(this.player),R=this.videos[K],h=b[h],R.suggestion!==h&&(R.suggestion=h,g.IB(R,h)),g.n(this,this.videos[K]),this.videos[K].AX(this.U.element))}this.J()}}nR(b){b===1?(this.K=!1,this.X=this.videoData.clientPlaybackNonce,
this.G.Y(),this.XM&&this.J()):(this.K=!0,this.Ik()&&(b===2?this.G.S():b===3&&this.G.X()))}T6(b){b?this.nR(1):(this.X=null,this.K=!1)}V(){return this.videoData.autonavState!==1}DP(b){return(b.width<910||b.height<459)&&!this.K3(b)&&!(b.width<=400||b.height<=360)}K3(b){return b.width<800&&!(b.width<=400||b.height<=360)}Ik(){return this.XM&&g.fz(this.player)&&this.V()&&!this.X}},QRn=[1,3,2,4];var mB3=class extends Ru{constructor(b){super(b,"videowall-endscreen");this.A=b;this.stills=[];this.S=this.videoData=null;this.J=this.U=!1;this.nR=null;g.Nv(this.element,"modern-videowall-endscreen");this.Y=new g.Ke(this);g.n(this,this.Y);this.D=new g.bI(()=>{g.Nv(this.element,"ytp-show-tiles")},0);
g.n(this,this.D);this.table=new g.Ag({B:"div",Z:"ytp-modern-endscreen-content"});g.n(this,this.table);this.table.AX(this.element);b.getVideoData().RH?this.G=new bk(b,!0):this.G=new h4(b);g.n(this,this.G);g.dL(this.player,this.G.element,4);b.createClientVe(this.element,this,158789);this.hide()}create(){super.create();var b=this.player.getVideoData();b&&(this.videoData=b);this.X();this.Y.j(this.player,"appresize",this.X);this.Y.j(this.player,"onVideoAreaChange",this.X);this.Y.j(this.player,"videodatachange",
this.onVideoDataChange);this.Y.j(this.player,"autonavchange",this.K);this.Y.j(this.player,"onAutonavCancelled",this.T6);b=this.videoData.autonavState;b!==this.nR&&this.K(b);this.Y.j(this.element,"transitionend",this.MJ)}destroy(){this.Y.Y();g.IZ(this.stills);this.stills=[];super.destroy();g.lI(this.element,"ytp-show-tiles");this.D.stop();this.nR=this.videoData.autonavState}V(){return this.videoData.autonavState!==1}show(){const b=this.XM;super.show();g.lI(this.element,"ytp-show-tiles");this.player.L().Y?
g.Rf(this.D):this.D.start();(this.J||this.S&&this.S!==this.videoData.clientPlaybackNonce)&&g.lb(this.player,!1);wi(this)?(Fq(this),this.videoData.autonavState===2?this.player.getVisibilityState()===3||uZ(this.player.SS())&&this.player.N("web_player_pip_logging_fix")?this.G.select(!0):this.G.S():this.videoData.autonavState===3&&this.G.X()):(g.lb(this.player,!0),Fq(this));b!==this.XM&&this.player.logVisibility(this.element,!0)}hide(){const b=this.XM;super.hide();this.G.X();Fq(this);b!==this.XM&&this.player.logVisibility(this.element,
!1)}MJ(b){b.target===this.element&&this.X()}X(){const b=this.videoData?.suggestions?.length?this.videoData?.suggestions:[this.videoData?.U()];if(b.length){var R=this.A.tb(!0,this.A.isFullscreen()),h=Math.floor((R.width-64+16)/(g.ui(R.width*.27,250,450)+16));R=Math.min(3,Math.floor((R.height-64)/((R.width-64-(h-1)*16)/h*.5625+70)));g.af(this.element,["ytp-modern-endscreen-limit-rows-1","ytp-modern-endscreen-limit-rows-2","ytp-modern-endscreen-limit-rows-3"]);g.Nv(this.element,`ytp-modern-endscreen-limit-rows-${R}`);
g.k(this.element,"ytp-modern-endscreen-single-item",h===1);g.k(this.element,"ytp-modern-endscreen-row-0",R===0);h=this.table.element;h.ariaLive="polite";this.G.K(this.videoData.U());this.G instanceof bk&&MQ(this.G);g.k(this.element,"ytp-endscreen-takeover",wi(this));Fq(this);R=0;h.ariaBusy="true";var K=b.length;for(let I=0;I<K;I++){const N=I%K;let p=this.stills[I];p||(p=new g.hiK(this.player),this.stills[I]=p,h.appendChild(p.element));g.MHe(p,b[N]);R++}this.stills.length=R}}onVideoDataChange(){const b=
this.player.getVideoData({playerType:1});this.videoData!==b&&(b?.U()?(this.videoData=b,this.X()):this.player.YZ("missg",{vid:b?.videoId||"",cpn:b?.clientPlaybackNonce||""}))}C(){return this.G.G()}K(b){b===1?(this.J=!1,this.S=this.videoData.clientPlaybackNonce,this.G.Y(),this.XM&&this.X()):(this.J=!0,this.XM&&wi(this)&&(b===2?this.G.S():b===3&&this.G.X()))}T6(b){if(b){for(b=0;b<this.stills.length;b++)this.A.logVisibility(this.stills[b].element,!0);this.K(1)}else this.S=null,this.J=!1;this.X()}Ik(){return this.XM&&
wi(this)}};var Pun=class extends Ru{constructor(b){super(b,"subscribecard-endscreen");this.G=new g.w({B:"div",Z:"ytp-subscribe-card",W:[{B:"img",Z:"ytp-author-image",O:{src:"{{profilePicture}}"}},{B:"div",Z:"ytp-subscribe-card-right",W:[{B:"div",Z:"ytp-author-name",IH:"{{author}}"},{B:"div",Z:"html5-subscribe-button-container"}]}]});g.n(this,this.G);this.G.AX(this.element);const R=b.getVideoData();this.subscribeButton=new g.Rx("Inscreva-se",null,"Cancelar assinatura",null,!0,!1,R.zI,R.subscribed,"trailer-endscreen",
null,b,!1);g.n(this,this.subscribeButton);this.subscribeButton.AX(this.G.yX("html5-subscribe-button-container"));this.j(b,"videodatachange",this.bv);this.bv();this.hide()}bv(){const b=this.player.getVideoData();this.G.update({profilePicture:b.profilePicture,author:b.author});this.subscribeButton.channelId=b.zI;var R=this.subscribeButton;b.subscribed?R.G():R.Y()}};var ZKp=class extends g.w{constructor(b){const R=b.L(),h=g.I5||g.HG?{style:"will-change: opacity"}:void 0,K=R.V,I=["ytp-videowall-still"];R.Y&&I.push("ytp-videowall-show-text");super({B:"a",F5:I,O:{href:"{{url}}",target:K?R.U:"","aria-label":"{{aria_label}}","data-is-live":"{{is_live}}","data-is-list":"{{is_list}}","data-is-mix":"{{is_mix}}"},W:[{B:"div",Z:"ytp-videowall-still-image",O:{style:"{{background}}"}},{B:"span",Z:"ytp-videowall-still-info",O:{"aria-hidden":"true"},W:[{B:"span",Z:"ytp-videowall-still-info-bg",
W:[{B:"span",Z:"ytp-videowall-still-info-content",O:h,W:[{B:"span",Z:"ytp-videowall-still-info-title",IH:"{{title}}"},{B:"span",Z:"ytp-videowall-still-info-author",IH:"{{author_and_views}}"},{B:"span",Z:"ytp-videowall-still-info-live",IH:"Ao vivo"},{B:"span",Z:"ytp-videowall-still-info-duration",IH:"{{duration}}"}]}]}]},{B:"span",F5:["ytp-videowall-still-listlabel-regular","ytp-videowall-still-listlabel"],O:{"aria-hidden":"true"},W:[{B:"span",Z:"ytp-videowall-still-listlabel-icon"},"Playlist",{B:"span",
Z:"ytp-videowall-still-listlabel-length",W:[" (",{B:"span",IH:"{{playlist_length}}"},")"]}]},{B:"span",F5:["ytp-videowall-still-listlabel-mix","ytp-videowall-still-listlabel"],O:{"aria-hidden":"true"},W:[{B:"span",Z:"ytp-videowall-still-listlabel-mix-icon"},"Mix",{B:"span",Z:"ytp-videowall-still-listlabel-length",IH:" (50+)"}]}]});this.suggestion=null;this.Y=K;this.api=b;this.G=new g.Ke(this);g.n(this,this.G);this.listen("click",this.onClick);this.listen("keypress",this.onKeyPress);this.G.j(b,"videodatachange",
this.onVideoDataChange);b.createServerVe(this.element,this);this.onVideoDataChange()}select(){this.api.BZ(this.suggestion.videoId,this.suggestion.sessionData,this.suggestion.playlistId,void 0,void 0,this.suggestion.v3||void 0)&&this.api.logClick(this.element)}onClick(b){if(g.Fo(this.api.L())&&this.api.N("web_player_log_click_before_generating_ve_conversion_params")){this.api.logClick(this.element);let R=this.suggestion.Ba();const h={};g.Hr(this.api,h);R=g.z9(R,h);g.Tq(R,this.api,b)}else g.Ez(b,this.api,
this.Y,this.suggestion.sessionData||void 0)&&this.select()}onKeyPress(b){switch(b.keyCode){case 13:case 32:b.defaultPrevented||(this.select(),b.preventDefault())}}onVideoDataChange(){const b=this.api.getVideoData(),R=this.api.L();this.Y=b.C0?!1:R.V}};var cR3=class extends Ru{constructor(b){super(b,"videowall-endscreen");this.A=b;this.S=0;this.stills=[];this.J=this.videoData=null;this.D=this.nR=!1;this.T6=null;this.X=new g.Ke(this);g.n(this,this.X);this.K=new g.bI(()=>{g.Nv(this.element,"ytp-show-tiles")},0);
g.n(this,this.K);var R=new g.w({B:"button",F5:["ytp-button","ytp-endscreen-previous"],O:{"aria-label":"Anterior"},W:[g.dm()]});g.n(this,R);R.AX(this.element);R.listen("click",this.SY,this);this.table=new g.Ag({B:"div",Z:"ytp-endscreen-content"});g.n(this,this.table);this.table.AX(this.element);R=new g.w({B:"button",F5:["ytp-button","ytp-endscreen-next"],O:{"aria-label":"Pr\u00f3ximo"},W:[g.fW()]});g.n(this,R);R.AX(this.element);R.listen("click",this.gp,this);b.getVideoData().RH?this.G=new bk(b,!0):
this.G=new h4(b);g.n(this,this.G);g.dL(this.player,this.G.element,4);b.createClientVe(this.element,this,158789);this.hide()}create(){super.create();var b=this.player.getVideoData();b&&(this.videoData=b);this.Y();this.X.j(this.player,"appresize",this.Y);this.X.j(this.player,"onVideoAreaChange",this.Y);this.X.j(this.player,"videodatachange",this.onVideoDataChange);this.X.j(this.player,"autonavchange",this.U);this.X.j(this.player,"onAutonavCancelled",this.MJ);b=this.videoData.autonavState;b!==this.T6&&
this.U(b);this.X.j(this.element,"transitionend",this.vY)}destroy(){this.X.Y();g.IZ(this.stills);this.stills=[];super.destroy();g.lI(this.element,"ytp-show-tiles");this.K.stop();this.T6=this.videoData.autonavState}V(){return this.videoData.autonavState!==1}show(){const b=this.XM;super.show();g.lI(this.element,"ytp-show-tiles");this.player.L().Y?g.Rf(this.K):this.K.start();(this.D||this.J&&this.J!==this.videoData.clientPlaybackNonce)&&g.lb(this.player,!1);o2(this)?(D6(this),this.videoData.autonavState===
2?this.player.getVisibilityState()===3||uZ(this.player.SS())&&this.player.N("web_player_pip_logging_fix")?this.G.select(!0):this.G.S():this.videoData.autonavState===3&&this.G.X()):(g.lb(this.player,!0),D6(this));b!==this.XM&&this.player.logVisibility(this.element,!0)}hide(){const b=this.XM;super.hide();this.G.X();D6(this);b!==this.XM&&this.player.logVisibility(this.element,!1)}vY(b){b.target===this.element&&this.Y()}Y(){var b=this.videoData?.suggestions?.length?this.videoData?.suggestions:[this.videoData?.U()];
if(b.length){g.Nv(this.element,"ytp-endscreen-paginate");var R=this.A.tb(!0,this.A.isFullscreen()),h=g.hT(this.A);h&&(h=h.tU()?48:32,R.width-=h*2);var K=R.width/R.height,I=96/54,N=h=2,p=Math.max(R.width/96,2),l=Math.max(R.height/54,2),a=b.length;var v=a*4;for(v-=4;v>0&&(h<p||N<l);){var B=h/2,H=N/2,q=h<=p-2&&v>=H*4,d=N<=l-2&&v>=B*4;if((B+1)/H*I/K>K/(B/(H+1)*I)&&d)v-=B*4,N+=2;else if(q)v-=H*4,h+=2;else if(d)v-=B*4,N+=2;else break}I=!1;v>=12&&a*4-v<=6&&(N>=4||h>=4)&&(I=!0);v=h*96;p=N*54;K=v/p<K?R.height/
p:R.width/v;K=Math.min(K,2);v=Math.floor(Math.min(R.width,v*K));p=Math.floor(Math.min(R.height,p*K));R=this.table.element;R.ariaLive="polite";g.pK(R,v,p);g.MN(R,{marginLeft:`${v/-2}px`,marginTop:`${p/-2}px`});this.G.K(this.videoData.U());this.G instanceof bk&&MQ(this.G);g.k(this.element,"ytp-endscreen-takeover",o2(this));D6(this);v+=4;p+=4;K=0;R.ariaBusy="true";for(l=0;l<h;l++)for(B=0;B<N;B++)if(q=K,d=0,I&&l>=h-2&&B>=N-2?d=1:B%2===0&&l%2===0&&(B<2&&l<2?B===0&&l===0&&(d=2):d=2),q=g.XG(q+this.S,a),
d!==0){H=this.stills[K];H||(H=new ZKp(this.player),this.stills[K]=H,R.appendChild(H.element));var t=Math.floor(p*B/N);const S=Math.floor(v*l/h),J=Math.floor(p*(B+d)/N)-t-4,e=Math.floor(v*(l+d)/h)-S-4;g.bu(H.element,S,t);g.pK(H.element,e,J);g.MN(H.element,"transitionDelay",(B+l)/20+"s");g.k(H.element,"ytp-videowall-still-mini",d===1);g.k(H.element,"ytp-videowall-still-large",d>2);d=Math.max(e,J);g.k(H.element,"ytp-videowall-still-round-large",d>=256);g.k(H.element,"ytp-videowall-still-round-medium",
d>96&&d<256);g.k(H.element,"ytp-videowall-still-round-small",d<=96);q=b[q];H.suggestion!==q&&(H.suggestion=q,d=H.api.L(),t=g.If(H.element,"ytp-videowall-still-large")?"hqdefault.jpg":"mqdefault.jpg",g.IB(H,q,t),g.Fo(d)&&!H.api.N("web_player_log_click_before_generating_ve_conversion_params")&&(d=q.Ba(),t={},g.F8(H.api,"addEmbedsConversionTrackingParams",[t]),d=g.z9(d,t),H.updateValue("url",d)),(q=(q=q.sessionData)&&q.itct)&&H.api.setTrackingParams(H.element,q));K++}R.ariaBusy="false";g.k(this.element,
"ytp-endscreen-paginate",K<a);for(b=this.stills.length-1;b>=K;b--)h=this.stills[b],g.GF(h.element),g.$l(h);this.stills.length=K}}onVideoDataChange(){const b=this.player.getVideoData({playerType:1});this.videoData!==b&&(b?.U()?(this.S=0,this.videoData=b,this.Y()):this.player.YZ("missg",{vid:b?.videoId||"",cpn:b?.clientPlaybackNonce||""}))}gp(){this.S+=this.stills.length;this.Y()}SY(){this.S-=this.stills.length;this.Y()}C(){return this.G.G()}U(b){b===1?(this.D=!1,this.J=this.videoData.clientPlaybackNonce,
this.G.Y(),this.XM&&this.Y()):(this.D=!0,this.XM&&o2(this)&&(b===2?this.G.S():b===3&&this.G.X()))}MJ(b){if(b){for(b=0;b<this.stills.length;b++)this.A.logVisibility(this.stills[b].element,!0);this.U(1)}else this.J=null,this.D=!1;this.Y()}Ik(){return this.XM&&o2(this)}};var uB3=class extends g.w{constructor(b){super({B:"button",F5:["ytp-watch-on-youtube-button","ytp-button"],IH:"{{content}}"});this.A=b;this.buttonType=this.buttonType=1;this.G();this.buttonType===2&&g.Nv(this.element,"ytp-continue-watching-button");this.listen("click",this.onClick);this.listen("videodatachange",this.G);this.sW(!0)}G(){let b,R;switch(this.buttonType){case 1:b="Assista outra vez no YouTube";R=156915;break;case 2:b="Continue assistindo no YouTube";R=156942;break;default:b="Continue assistindo no YouTube",
R=156942}this.update({content:b});this.A.hasVe(this.element)&&this.A.destroyVe(this.element);this.A.createClientVe(this.element,this,R)}onClick(b){this.A.N("web_player_log_click_before_generating_ve_conversion_params")&&this.A.logClick(this.element);g.Tq(this.getVideoUrl(),this.A,b);this.A.N("web_player_log_click_before_generating_ve_conversion_params")||this.A.logClick(this.element)}getVideoUrl(){var b=!0;switch(this.buttonType){case 1:b=!0;break;case 2:b=!1}b=this.A.getVideoUrl(b,!1,!1,!0);const R=
this.A.L();if(g.Fo(R)){const h={};g.Fo(R)&&g.F8(this.A,"addEmbedsConversionTrackingParams",[h]);b=g.z9(b,h)}return b}logVisibility(){this.A.logVisibility(this.element,this.XM&&this.G6)}show(){super.show();this.logVisibility()}hide(){super.hide();this.logVisibility()}Qp(b){super.Qp(b);this.logVisibility()}};var Xo3=class extends Ru{constructor(b){super(b,"watch-again-on-youtube-endscreen");this.watchButton=new uB3(b);g.n(this,this.watchButton);this.watchButton.AX(this.element);g.TeT(b)&&(this.G=new g.QnH(b),g.n(this,this.G),this.Y=new g.w({B:"div",F5:["ytp-watch-again-on-youtube-endscreen-more-videos-container"],O:{tabIndex:"-1"},W:[this.G]}),g.n(this,this.Y),this.G.AX(this.Y.element),this.Y.AX(this.element));b.createClientVe(this.element,this,156914);this.hide()}hasSuggestions(){return this.G?.hasSuggestions()}show(){if(this.player.getPlayerState()!==
3){super.show();const R=this.Y;if(R){var b=this.G.hasSuggestions();g.k(this.element,"ytp-shorts-branded-ui",b);b?R.show():R.hide()}g.hT(this.player)?.TM(!0);this.player.logVisibility(this.element,!0);this.watchButton.Qp(!0)}}hide(){super.hide();g.hT(this.player)?.TM(!1);this.player.logVisibility(this.element,!1);this.watchButton.Qp(!1)}};g.jR("endscreen",class extends g.AW{constructor(b){super(b);this.endScreen=null;this.G=this.Y=this.X=!1;this.listeners=new g.Ke(this);g.n(this,this.listeners);const R=b.L();b.isEmbedsShortsMode()?this.endScreen=new Xo3(b):kYz(b)?(this.X=!0,YI2(this),this.G?this.endScreen=new xBH(b):R.N("delhi_modern_endscreen")?this.endScreen=new mB3(b):this.endScreen=new cR3(b)):R.vO?this.endScreen=new Pun(b):this.endScreen=new Ru(b);g.n(this,this.endScreen);g.dL(b,this.endScreen.element,4);eSz(this);this.listeners.j(b,
"videodatachange",this.onVideoDataChange,this);this.listeners.j(b,g.fM("endscreen"),h=>{this.onCueRangeEnter(h)});
this.listeners.j(b,g.yf("endscreen"),h=>{this.onCueRangeExit(h)})}rT(){var b=this.player.getVideoData();
const R=b.mutedAutoplay&&(b.limitedPlaybackDurationInSeconds>0||b.endSeconds>0||b.mutedAutoplayDurationMode!==2);if(this.player.isEmbedsShortsMode()&&!R)return!0;var h=!(!b?.U()&&!b?.suggestions?.length);h=!kYz(this.player)||h;b=b.gM;const K=this.player.tD();return h&&!b&&!K&&!R}Ik(){return this.endScreen.Ik()}YK(){return this.Ik()?this.endScreen.C():!1}X5(){this.player.lj("endscreen");super.X5()}load(){{const h=this.player.getVideoData(),K=h.transitionEndpointAtEndOfStream;if(K&&K.videoId){var b=
this.player.VV().X$.get("heartbeat");var R=h.U();!R||K.videoId!==R.videoId||h.Rl?(this.player.BZ(K.videoId,void 0,void 0,!0,!0,K),b&&b.t5("HEARTBEAT_ACTION_TRIGGER_AT_STREAM_END","HEARTBEAT_ACTION_TRANSITION_REASON_HAS_NEW_STREAM_TRANSITION_ENDPOINT"),b=!0):b=!1}else b=!1}b||(super.load(),this.endScreen.show())}unload(){super.unload();this.endScreen.hide();this.endScreen.destroy()}onCueRangeEnter(b){this.rT()&&(this.endScreen.created||this.endScreen.create(),b.getId()==="load"&&this.load())}onCueRangeExit(b){b.getId()===
"load"&&this.loaded&&this.unload()}onVideoDataChange(){eSz(this);this.X&&YI2(this)&&(this.endScreen&&(this.endScreen.hide(),this.endScreen.created&&this.endScreen.destroy(),this.endScreen.dispose()),this.G?this.endScreen=new xBH(this.player):this.endScreen=new cR3(this.player),g.n(this,this.endScreen),g.dL(this.player,this.endScreen.element,4))}});})(_yt_player);
